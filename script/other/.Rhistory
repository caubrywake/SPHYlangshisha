rm(list = ls())
library(raster)
library(sp)
library(Hmisc)
library(maptools)
library(hydroGOF)
library(plotrix)
library(lattice)
###SETTINGS
indir <- "C:\\SPHY3\\output"
outdir <- "C:\SPHY3\\analysis\\groundwater"
indir <- "C:\\SPHY3\\output"
outdir <- "C:\\SPHY3\\analysis\\groundwater\\"
qobs <- "F:\\13_Utrecht\\03_data\\data\\Groundwater\\202111_LangshishaBottom_Groundwater.csv"
###SETTINGS END
dates<-seq(as.Date("1986-01-01"),as.Date("2000-12-31"),"day")
timesteps <- 1:length(dates)
datesframe[,1] <- timesteps
datesframe <- matrix(data=NA,nrow=length(dates),ncol=4)
datesframe[,1] <- timesteps
for (i in timesteps)
{
datesframe[i,2] <- as.numeric(format(dates[i], "%Y"))
datesframe[i,3] <- as.numeric(format(dates[i], "%m"))
datesframe[i,4] <- as.numeric(format(dates[i], "%d"))
}
View(datesframe)
qobs_read <- read.csv(qobs, header=T)
View(qobs_read)
qw <- paste(indir,"GwlDTS.tss",sep="")
indir <- "C:\\SPHY3\\output\\"
qw <- paste(indir,"GwlDTS.tss",sep="")
qw2 <- read.delim(qall,skip=10,sep="",header=F)
qw2 <- read.delim(qw,skip=1,sep="",header=F)
View(qw2)
qw2 <- read.delim(qw,skip=15,sep="",header=F)
qw2 <- read.delim(qw,skip=16,sep="",header=F)
qw <- paste(indir,"GwlDTS.tss",sep="")
qw2 <- read.delim(qw,skip=16,sep="",header=F)
qw2 <- read.delim(qw,skip=17,sep="",header=F)
View(qw2)
qw2 <- read.delim(qw,skip=14,sep="",header=F)
View(qw2)
dates<-seq(as.Date("2010-01-01"),as.Date("2019-12-31"),"day")
#dates<- dates[-which(substr(dates,6,10)=="02-29")]
timesteps <- 1:length(dates)
datesframe <- matrix(data=NA,nrow=length(dates),ncol=4)
datesframe[,1] <- timesteps
for (i in timesteps)
{
datesframe[i,2] <- as.numeric(format(dates[i], "%Y"))
datesframe[i,3] <- as.numeric(format(dates[i], "%m"))
datesframe[i,4] <- as.numeric(format(dates[i], "%d"))
}
qw3 <- cbind(datesframe[,1:4],qw2[,2:8])
View(qw3)
View(datesframe)
View(qw2)
qw2[,2:8]
qw3 <- cbind(datesframe[,1:4],qw2[,2:8])
View(qw3)
i<- 2
obs_q <- as.data.frame(as.numeric(qobs_read[,i+2]))
obs_q <- as.data.frame(obs_q[8:67,])
ranges_start <- c(4,1)
ranges_start <- c(4,1)
ranges_end <- c(8,5)
no_of_runs <- 1
df <- as.data.frame(matrix(NA,nrow=no_of_runs,ncol=length(params)+12))
params <- c("DDFG","DDFDG")
df <- as.data.frame(matrix(NA,nrow=no_of_runs,ncol=length(params)+12))
View(df)
for(i in 1:no_of_runs)
{
for(a in 1:length(params))
{
df[i,a] <- runif(1,min=min(ranges_start[a]),max=max(ranges_end[a]))
}
}
for(i in 1:nrow(df))
{
#modify sphy config file
template_lines <- readLines(template)
for(a in 1:length(params))
{
template_lines <- gsub(pattern=paste("&",params[a],"&",sep=""),replace=df[i,a],x=template_lines)
}
View(df)
View(df)
View(df)
writeLines(template_lines,paste(modeldir,"sphy_config.cfg",sep=""))
q
